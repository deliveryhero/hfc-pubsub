"use strict";(self.webpackChunk_honestfoodcompany_pubsub=self.webpackChunk_honestfoodcompany_pubsub||[]).push([[8714],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>f});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=n.createContext({}),c=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,s=e.originalType,u=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),g=c(r),f=o,b=g["".concat(u,".").concat(f)]||g[f]||p[f]||s;return r?n.createElement(b,i(i({ref:t},l),{},{components:r})):n.createElement(b,i({ref:t},l))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=r.length,i=new Array(s);i[0]=g;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var c=2;c<s;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},292:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p,frontMatter:()=>a,metadata:()=>u,toc:()=>c});var n=r(7462),o=r(3366),s=(r(7294),r(3905)),i=["components"],a={id:"custom-logger",title:"Passing a Custom Logger",sidebar_label:"Custom Logger",sidebar_position:1},u={unversionedId:"server/custom-logger",id:"version-v1/server/custom-logger",isDocsHomePage:!1,title:"Passing a Custom Logger",description:"In the main SubscriptionService before defining subscription class you can update the logger that is being used by the package for logging. It's an optional definition and by default it uses console.* for logging .info, .warn and .error these 3 function keys are a must have for the logger you pass.",source:"@site/versioned_docs/version-v1/server/Custom Logger.md",sourceDirName:"server",slug:"/server/custom-logger",permalink:"/hfc-pubsub/v1/server/custom-logger",editUrl:"https://github.com/deliveryhero/hfc-pubsub/edit/main/versioned_docs/version-v1/server/Custom Logger.md",version:"v1",sidebar_label:"Custom Logger",sidebarPosition:1,frontMatter:{id:"custom-logger",title:"Passing a Custom Logger",sidebar_label:"Custom Logger",sidebar_position:1},sidebar:"version-v1/defaultSidebar",previous:{title:"Subscription Service",permalink:"/hfc-pubsub/v1/server/service"},next:{title:"Connecting to a Database",permalink:"/hfc-pubsub/v1/server/connect-database"}},c=[],l={toc:c};function p(e){var t=e.components,r=(0,o.Z)(e,i);return(0,s.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"In the main SubscriptionService before defining subscription class you can update the logger that is being used by the package for logging. It's an optional definition and by default it uses ",(0,s.kt)("inlineCode",{parentName:"p"},"console.*")," for logging ",(0,s.kt)("inlineCode",{parentName:"p"},".info"),", ",(0,s.kt)("inlineCode",{parentName:"p"},".warn")," and ",(0,s.kt)("inlineCode",{parentName:"p"},".error")," these 3 function keys are a must have for the logger you pass."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/pubsub/subscription.service.ts"',title:'"/pubsub/subscription.service.ts"'},"import * as PubSub from '@honestfoodcompany/pubsub';\n\n/**\n * This function call is optional, you can pass an instance of Pino, Winston logger\n * By default it uses default console.* for logging\n * The logger you pass must support .error, .info and .warn methods for it to work\n */\nPubSub.setLogger(console);\n")),(0,s.kt)("p",null,"You can also call setLogger from some other file like a global file, just make sure it gets imported somehow into the ",(0,s.kt)("inlineCode",{parentName:"p"},"subscription.service"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"const { setLogger } = require('@honestfoodcompany/pubsub');\nsetLogger(console);\n")))}p.isMDXComponent=!0}}]);